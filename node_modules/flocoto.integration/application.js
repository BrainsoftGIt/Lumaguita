"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
const child_process_1 = require("child_process");
const path_1 = __importDefault(require("path"));
var flocoto_app;
(function (flocoto_app) {
    function launcher(root, opts) {
        let flocotoRoot = path_1.default.join(root, /*language=file-reference*/ "/../flocoto");
        let flocotoMainFile = path_1.default.join(flocotoRoot, "server/launcher/index.js");
        let args = ["start"];
        if (opts === null || opts === void 0 ? void 0 : opts.isolated)
            args.push("--isolated");
        if (!(opts === null || opts === void 0 ? void 0 : opts.applications))
            opts.applications = [];
        opts.applications.forEach(value => {
            args.push("--application", value);
        });
        (0, child_process_1.fork)(flocotoMainFile, args, {
            cwd: flocotoRoot
        });
    }
    flocoto_app.launcher = launcher;
})(flocoto_app || (flocoto_app = {}));
module.exports = flocoto_app;
//# sourceMappingURL=application.js.map